<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carte </title>
    <style>
        body {
            background: #CFD5FF;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding-top: 50px;
        }

        .carte {
            border: #fff;
            border-radius: 10px;
            overflow: hidden;
            height: 300px;
            width: -moz-fit-content;
            width: fit-content;

            border: #fff solid 15px;

        }
    </style>
</head>

<body>
    <div class="carte">
        <img id="carte" src="#" alt="" srcset="">
    </div>


    <script>
        let apiKey = "pk.eyJ1IjoiYW5kcm9uZWRldiIsImEiOiJja3F5MjZnNTIwMHNvMm5vNmoyaTBuaWFkIn0.JiVaHdKKz1te9KKCEyiDGw"
        let carte = document.getElementById("carte")

        function updateCarte(geojson) {
            carte.src = "https://api.mapbox.com/styles/v1/mapbox/streets-v11/static/geojson(" + encodeURIComponent(JSON.stringify(geojson)) + ")/auto/400x300?access_token=" + apiKey
        }

        // d√©monstration : 
        let demo = {
            "type": "FeatureCollection",
            "features": [
                {
                    "type": "Feature",
                    "properties": {},
                    "geometry": {
                        "coordinates": [
                            1.178887835494777,
                            42.96410293387754
                        ],
                        "type": "Point"
                    }
                },
                {
                    "type": "Feature",
                    "properties": {},
                    "geometry": {
                        "coordinates": [
                            1.1441956796051045,
                            42.98739059011936
                        ],
                        "type": "Point"
                    }
                },
                {
                    "type": "Feature",
                    "properties": {},
                    "geometry": {
                        "coordinates": [
                            1.1339159966454702,
                            43.004156906296174
                        ],
                        "type": "Point"
                    }
                },
                {
                    "type": "Feature",
                    "properties": {},
                    "geometry": {
                        "coordinates": [
                            1.1612992627610765,
                            42.97039032727545
                        ],
                        "type": "Point"
                    }
                },
                {
                    "type": "Feature",
                    "properties": {},
                    "geometry": {
                        "coordinates": [
                            1.1597914492743655,
                            43.003059096613384
                        ],
                        "type": "Point"
                    }
                },
                {
                    "type": "Feature",
                    "properties": {},
                    "geometry": {
                        "coordinates": [
                            [
                                1.133922612411311,
                                43.00408168399346
                            ],
                            [
                                1.1441808967434497,
                                42.98747964987339
                            ],
                            [
                                1.1612750668911929,
                                42.970440334115125
                            ],
                            [
                                1.178910194673989,
                                42.96417295959239
                            ],
                            [
                                1.1597515315495457,
                                43.00290980004897
                            ]
                        ],
                        "type": "LineString"
                    }
                }
            ]
        }

        updateCarte(
            demo
        )


    </script>
</body>

</html>